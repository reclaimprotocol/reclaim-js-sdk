import { ClaimInfo, OnchainSignedClaim, SignedClaim } from "./types";

// Proof-related interfaces
export interface Proof {
  identifier: string;
  claimData: ProviderClaimData;
  signatures: string[];
  witnesses: WitnessData[];
  extractedParameterValues: any;
  publicData?: { [key: string]: string };
  taskId?: number;
}

export interface WitnessData {
  id: string;
  url: string;
}

export interface OnchainProof {
  claimInfo: ClaimInfo,
  signedClaim: OnchainSignedClaim
}

export interface ProviderClaimData {
  provider: string;
  parameters: string;
  owner: string;
  timestampS: number;
  context: string;
  identifier: string;
  epoch: number;
}

// Context and Beacon interfaces
export interface Context {
  contextAddress: string;
  contextMessage: string;
}

export interface Beacon {
  getState(epoch?: number): Promise<BeaconState>;
  close?(): Promise<void>;
}

export type BeaconState = {
  witnesses: WitnessData[];
  epoch: number;
  witnessesRequiredForClaim: number;
  nextEpochTimestampS: number;
};


